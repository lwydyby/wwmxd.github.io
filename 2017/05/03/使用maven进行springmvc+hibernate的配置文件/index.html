














<!doctype html>
<html lang="cn">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
  <meta name="renderer" content="webkit">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, shrink-to-fit=no" , user-scalable="no"">
  <title>使用maven进行springmvc+hibernate的配置文件万万没想到</title>
  <link rel="shortcut icon" href>
  
    
    
      <link rel="stylesheet" href="/css/bootstrap.min.css">
    
      <link rel="stylesheet" href="/css/font-awesome.min.css">
    
      <link rel="stylesheet" href="/css/atom-one-dark.css">
    
      <link rel="stylesheet" href="/css/jquery.fancybox.css">
    
      <link rel="stylesheet" href="/css/nprogress.min.css">
    
      <link rel="stylesheet" href="/css/valine.css">
    
      <link rel="stylesheet" href="/css/life.css">
    
  

  

  <!-- jQuery first, then Tether, then Bootstrap JS. -->
  
  
  
    <script src="/js/jquery-2.2.4.min.js"></script>
  
    <script src="https://cdn1.lncld.net/static/js/3.1.0/av-min.js"></script>
  
    <script src="/js/jquery.pjax.js"></script>
  
    <script src="/js/nprogress.min.js"></script>
  
    <script src="/js/tether.min.js"></script>
  
    <script src="/js/bootstrap.min.js"></script>
  
    <script src="/js/highlight.min.js"></script>
  
    <script src="/js/highlightjs-line-numbers.min.js"></script>
  
    <script src="/js/jquery.fancybox.js"></script>
  
    <script src="/js/jquery.qrcode.min.js"></script>
  
    <script src="/js/Valine.min.js"></script>
  
  
</head>
<body>
<script>AV.init({appId:'iJmUXc8LaoLWImgBPMXEIduG-gzGzoHsz',appKey:'LO8xrIFyiXfO58Irvj2UAW2l'});</script>
<script type="text/javascript">
      var config = {
            ClasS: 'Counter',
            el:'.views',
            elP: '.views-post'
      }
</script>
<div class="container">
    <div class="row blog-box-shadow">
        <!--博客主栏开始-->
        <div class="col-xl-9 col-lg-12 blog-main" id="pjax-box">
            <header class="blog-header">
                <a href="http://lwydyby.cn" class="blog-header-mobile-title">万万没想到</a>
                <a href="javascript:;" class="blog-header-navbar-btn"><i class="fa fa-bars"></i></a>
                <nav class="blog-header-navbar blog-header-fixed">
                    <ul class="blog-navbar-links">
                        
                          <li class="blog-nav-item"><a href="http://lwydyby.cn" class="transition">首页</a></li>
                        
                          <li class="blog-nav-item"><a href="https://gitee.com/lwydyby" class="transition">关于</a></li>
                        
                          <li class="blog-nav-item"><a href="https://gitee.com/lwydyby" class="transition">链接</a></li>
                        
                        <div class="blog-navbar-right">
                            <form action>
                                <div class="input-group">
                                    <input type="text" class="blog-header-search" placeholder="search...">
                                    <buttn type="submit" class="blog-header-search-btn"><i class="fa fa-search"></i></buttn>
                                </div>
                            </form>
                        </div>
                    </ul>
                </nav>
            </header>
                
<header class="blog-post-page-title">
    <h4>使用maven进行springmvc+hibernate的配置文件</h4>
    <time datetime="2017-05-03T06:07:41.000Z"><i class="fa fa-clock-o"></i>2017-05-03</time>
    
    
    
    
	
    
</header>
<div class="blog-main-post blog-post-page-box">
    <article class="blog-post-block blog-post-page-content">
        <section>
            
                <p> <a href="http://creativecommons.org/licenses/by-sa/4.0/" target="_blank" rel="noopener"> </a> 版权声明：本文为博主原创文章，遵循<a href="http://creativecommons.org/licenses/by-sa/4.0/" target="_blank" rel="noopener"> CC 4.0 by-sa </a>版权协议，转载请附上原文出处链接和本声明。  本文链接：<a href="https://blog.csdn.net/qq_36752632/article/details/71122912" target="_blank" rel="noopener">https://blog.csdn.net/qq_36752632/article/details/71122912</a>   </p>
<p>   配置pom.xml</p>
<pre><code>&lt;project xmlns =“http://maven.apache.org/POM/4.0.0”xmlns：xsi =“http://www.w3.org/2001/XMLSchema-instance”
    xsi：schemaLocation =“http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd”&gt;
    &lt;modelVersion&gt; 4.0.0 &lt;/ modelVersion&gt;
    &lt;groupId&gt; springMVC &lt;/ groupId&gt;
    &lt;artifactId&gt; springMVC &lt;/ artifactId&gt;
    &lt;version&gt; 0.0.1-SNAPSHOT &lt;/ version&gt;
    &lt;包装&gt;战争&lt;/ packaging&gt;
    &lt;name /&gt;
    &lt;description /&gt;
    &lt;属性&gt;
        &lt;project.build.sourceEncoding&gt; UTF-8 &lt;/project.build.sourceEncoding&gt;
    &lt;/ properties&gt;
    &lt;依赖关系&gt;
        &lt;依赖关系&gt;
            &lt;groupId&gt; org.codehaus.jackson &lt;/ groupId&gt;
            &lt;artifactId&gt; jackson-mapper-asl &lt;/ artifactId&gt;
            &lt;version&gt; 1.9.2 &lt;/ version&gt;
        &lt;/依赖&gt;
        &lt;依赖关系&gt;
            &lt;groupId&gt; org.codehaus.jackson &lt;/ groupId&gt;
            &lt;artifactId&gt; jackson-core-asl &lt;/ artifactId&gt;
            &lt;version&gt; 1.9.2 &lt;/ version&gt;
        &lt;/依赖&gt;

        &lt;依赖关系&gt;
            &lt;groupId&gt; com.fasterxml.jackson.core &lt;/ groupId&gt;
            &lt;artifactId&gt; jackson-core &lt;/ artifactId&gt;
            &lt;version&gt; 2.2.2 &lt;/ version&gt;
        &lt;/依赖&gt;
        &lt;依赖关系&gt;
            &lt;groupId&gt; com.fasterxml.jackson.core &lt;/ groupId&gt;
            &lt;artifactId&gt; jackson-annotations &lt;/ artifactId&gt;
            &lt;version&gt; 2.2.2 &lt;/ version&gt;
        &lt;/依赖&gt;
        &lt;依赖关系&gt;
            &lt;groupId&gt; com.fasterxml.jackson.core &lt;/ groupId&gt;
            &lt;artifactId&gt; jackson-databind &lt;/ artifactId&gt;
            &lt;version&gt; 2.2.2 &lt;/ version&gt;
        &lt;/依赖&gt;
        &lt;依赖关系&gt;
            &lt;groupId&gt; org.codehaus.jackson &lt;/ groupId&gt;
            &lt;artifactId&gt; jackson-mapper-lgpl &lt;/ artifactId&gt;
            &lt;version&gt; 1.9.12 &lt;/ version&gt;
        &lt;/依赖&gt;
        &lt;！ -  jack core annotation databind end  - &gt;
        &lt;！ -  Fastjson begin（这个可以不需要，因为Fastjson要比Jackson的效率高，当自己组织JSON数据时可以使用） - &gt;
        &lt;依赖关系&gt;
            &lt;groupId&gt; com.alibaba &lt;/ groupId&gt;
            &lt;artifactId&gt; fastjson &lt;/ artifactId&gt;
            &lt;version&gt; 1.1.30 &lt;/ version&gt;
        &lt;/依赖&gt;
        &lt;！ -  Fastjson end  - &gt;
        &lt;依赖关系&gt;
            &lt;groupId&gt; net.sf.json-lib &lt;/ groupId&gt;
            &lt;artifactId&gt; json-lib &lt;/ artifactId&gt;
            &lt;version&gt; 2.4 &lt;/ version&gt;
            &lt;classifier&gt; jdk15 &lt;/ classifier&gt;
        &lt;/依赖&gt;
        &lt;依赖关系&gt;
    &lt;groupId&gt; org.apache.poi &lt;/ groupId&gt;
    &lt;artifactId&gt; poi-ooxml &lt;/ artifactId&gt;
    &lt;version&gt; 3.9 &lt;/ version&gt;
&lt;/依赖&gt;

        &lt;依赖关系&gt;
            &lt;groupId&gt; org.apache.openejb &lt;/ groupId&gt;
            &lt;artifactId&gt; javaee-api &lt;/ artifactId&gt;
            &lt;version&gt; 5.0-1 &lt;/ version&gt;
            &lt;scope&gt;提供&lt;/ scope&gt;
        &lt;/依赖&gt;
        &lt;依赖关系&gt;
            &lt;groupId&gt; commons-io &lt;/ groupId&gt;
            &lt;artifactId&gt; commons-io &lt;/ artifactId&gt;
            &lt;version&gt; 2.4 &lt;/ version&gt;
        &lt;/依赖&gt;

        &lt;依赖关系&gt;
            &lt;groupId&gt; javax.servlet &lt;/ groupId&gt;
            &lt;artifactId&gt; jstl &lt;/ artifactId&gt;
            &lt;version&gt; 1.2 &lt;/ version&gt;
            &lt;scope&gt;提供&lt;/ scope&gt;
        &lt;/依赖&gt;
        &lt;依赖关系&gt;
            &lt;groupId&gt; javax.servlet.jsp &lt;/ groupId&gt;
            &lt;artifactId&gt; jsp-api &lt;/ artifactId&gt;
            &lt;version&gt; 2.1 &lt;/ version&gt;
            &lt;scope&gt;提供&lt;/ scope&gt;
        &lt;/依赖&gt;
        &lt;！ - 文件上传 - &gt;
        &lt;依赖关系&gt;
            &lt;groupId&gt; commons-fileupload &lt;/ groupId&gt;
            &lt;artifactId&gt; commons-fileupload &lt;/ artifactId&gt;
            &lt;version&gt; 1.2.2 &lt;/ version&gt;
        &lt;/依赖&gt;
        &lt;！ -  mysql数据库驱动 - &gt;
        &lt;依赖关系&gt;
            &lt;groupId&gt; mysql &lt;/ groupId&gt;
            &lt;artifactId&gt; mysql-connector-java &lt;/ artifactId&gt;
            &lt;version&gt; 5.1.37 &lt;/ version&gt;
        &lt;/依赖&gt;
        &lt;！ - 德鲁伊 - &gt;
        &lt;依赖关系&gt;
            &lt;groupId&gt; com.alibaba &lt;/ groupId&gt;
            &lt;artifactId&gt; druid &lt;/ artifactId&gt;
            &lt;version&gt; 0.2.9 &lt;/ version&gt;
        &lt;/依赖&gt;

        &lt;！ -  aspectjweaver.jar这是Spring AOP所要用到的包 - &gt;
        &lt;依赖关系&gt;
            &lt;groupId&gt; org.aspectj &lt;/ groupId&gt;
            &lt;artifactId&gt; aspectjweaver &lt;/ artifactId&gt;
            &lt;version&gt; 1.7.1 &lt;/ version&gt;
        &lt;/依赖&gt;

        &lt;！ -  hibernate4  - &gt;
        &lt;依赖关系&gt;
            &lt;groupId&gt; org.hibernate &lt;/ groupId&gt;
            &lt;artifactId&gt; hibernate-core &lt;/ artifactId&gt;
            &lt;version&gt; 4.2.5.Final &lt;/ version&gt;
        &lt;/依赖&gt;
        &lt;依赖关系&gt;
            &lt;groupId&gt; org.hibernate &lt;/ groupId&gt;
            &lt;artifactId&gt; hibernate-entitymanager &lt;/ artifactId&gt;
            &lt;version&gt; 4.2.5.Final &lt;/ version&gt;
        &lt;/依赖&gt;
        &lt;依赖关系&gt;
            &lt;groupId&gt; org.hibernate &lt;/ groupId&gt;
            &lt;artifactId&gt; hibernate-ehcache &lt;/ artifactId&gt;
            &lt;version&gt; 4.2.5.Final &lt;/ version&gt;
        &lt;/依赖&gt;
        &lt;依赖关系&gt;
            &lt;groupId&gt; org.hibernate.javax.persistence &lt;/ groupId&gt;
            &lt;artifactId&gt; hibernate-jpa-2.0-api &lt;/ artifactId&gt;
            &lt;version&gt; 1.0.1.Final &lt;/ version&gt;
        &lt;/依赖&gt;

        &lt;！ -  spring mvc  - &gt;
        &lt;依赖关系&gt;
            &lt;groupId&gt; org.springframework &lt;/ groupId&gt;
            &lt;artifactId&gt; spring-webmvc &lt;/ artifactId&gt;
            &lt;version&gt; 3.2.0.RELEASE &lt;/ version&gt;
        &lt;/依赖&gt;

        &lt;！ -  spring3  - &gt;
        &lt;依赖关系&gt;
            &lt;groupId&gt; org.springframework &lt;/ groupId&gt;
            &lt;artifactId&gt; spring-core &lt;/ artifactId&gt;
            &lt;version&gt; 3.2.0.RELEASE &lt;/ version&gt;
        &lt;/依赖&gt;
        &lt;依赖关系&gt;
            &lt;groupId&gt; org.springframework &lt;/ groupId&gt;
            &lt;artifactId&gt; spring-context &lt;/ artifactId&gt;
            &lt;version&gt; 3.2.0.RELEASE &lt;/ version&gt;
        &lt;/依赖&gt;
        &lt;依赖关系&gt;
            &lt;groupId&gt; org.springframework &lt;/ groupId&gt;
            &lt;artifactId&gt; spring-jdbc &lt;/ artifactId&gt;
            &lt;version&gt; 3.2.0.RELEASE &lt;/ version&gt;
        &lt;/依赖&gt;
        &lt;依赖关系&gt;
            &lt;groupId&gt; org.springframework &lt;/ groupId&gt;
            &lt;artifactId&gt; spring-beans &lt;/ artifactId&gt;
            &lt;version&gt; 3.2.0.RELEASE &lt;/ version&gt;
        &lt;/依赖&gt;
        &lt;依赖关系&gt;
            &lt;groupId&gt; org.springframework &lt;/ groupId&gt;
            &lt;artifactId&gt; spring-web &lt;/ artifactId&gt;
            &lt;version&gt; 3.2.0.RELEASE &lt;/ version&gt;
        &lt;/依赖&gt;
        &lt;依赖关系&gt;
            &lt;groupId&gt; org.springframework &lt;/ groupId&gt;
            &lt;artifactId&gt; spring-expression &lt;/ artifactId&gt;
            &lt;version&gt; 3.2.0.RELEASE &lt;/ version&gt;
        &lt;/依赖&gt;
        &lt;依赖关系&gt;
            &lt;groupId&gt; org.springframework &lt;/ groupId&gt;
            &lt;artifactId&gt; spring-orm &lt;/ artifactId&gt;
            &lt;version&gt; 3.2.0.RELEASE &lt;/ version&gt;
        &lt;/依赖&gt;
        &lt;依赖关系&gt;
            &lt;groupId&gt; org.springframework &lt;/ groupId&gt;
            &lt;artifactId&gt; spring-test &lt;/ artifactId&gt;
            &lt;version&gt; 3.2.0.RELEASE &lt;/ version&gt;
        &lt;/依赖&gt;

        &lt;！ -  jsp页面使用的jstl  - &gt;
        &lt;依赖关系&gt;
            &lt;groupId&gt; javax.servlet &lt;/ groupId&gt;
            &lt;artifactId&gt; jstl &lt;/ artifactId&gt;
            &lt;version&gt; 1.2 &lt;/ version&gt;
        &lt;/依赖&gt;
    &lt;/依赖关系&gt;
    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;artifactId&gt; maven-war-plugin &lt;/ artifactId&gt;
            &lt;/ plugin&gt;
            &lt;plugin&gt;
                &lt;artifactId&gt; maven-compiler-plugin &lt;/ artifactId&gt;
                &lt;配置&gt;
                    &lt;source&gt; 1.5 &lt;/ source&gt;
                    &lt;target&gt; 1.5 &lt;/ target&gt;
                &lt;/ configuration&gt;
            &lt;/ plugin&gt;
        &lt;/ plugins&gt;
    &lt;/ build&gt;
&lt;/ project&gt;</code></pre><p> 配置config.properties </p>
<pre><code>hibernate.dialect = org.hibernate.dialect.MySQLDialect
driverClassName = com.mysql.jdbc.Driver 
validationQuery = SELECT 1
jdbc_url = jdbc：mysql：// localhost：3306 / mysql？useUnicode = true＆characterEncoding = UTF-8
jdbc_username = root
jdbc_password = 123456

hibernate.hbm2ddl.auto = update
hibernate.show_sql = true
hibernate.format_sql = false

sessionInfoName = sessionInfo  

uploadFieldName = filedata  
uploadFileMaxSize = 20971520  
uploadFileExts = txt，rar，zip，doc，docx，xl​​s，xlsx，jpg，jpeg，gif，png，swf，wmv，avi，wma，mp3，mid  
uploadDirectory = attach  </code></pre><p>配置spring-hibernate.xml </p>
<pre><code>&lt;？xml version =“1.0”encoding =“UTF-8”？&gt;  
&lt;beans xmlns =“http://www.springframework.org/schema/beans”xmlns：context =“http://www.springframework.org/schema/context”xmlns：xsi =“http：//www.w3 .org / 2001 / XMLSchema-instance“xmlns：tx =”http://www.springframework.org/schema/tx“xmlns：aop =”http://www.springframework.org/schema/aop“xsi：schemaLocation =“  
http://www.springframework.org/schema/beans   
http://www.springframework.org/schema/beans/spring-beans-3.0.xsd   
http://www.springframework.org/schema/tx   
http://www.springframework.org/schema/tx/spring-tx-3.0.xsd  
http://www.springframework.org/schema/aop   
http://www.springframework.org/schema/aop/spring-aop-3.0.xsd  
http://www.springframework.org/schema/context    
http://www.springframework.org/schema/context/spring-context-3.1.xsd   
“&gt;  

    &lt;！ -  JNDI（通过Tomcat）方式配置数据源 - &gt;  
    &lt;！ -  &lt;bean id =“dataSource”class =“org.springframework.jndi.JndiObjectFactoryBean”&gt; &lt;property name =“jndiName”value =“$ {jndiName}”&gt; &lt;/ property&gt; &lt;/ bean&gt;  


       &lt;！ - 引入属性文件 - &gt;  
    &lt;context：property-placeholder location =“classpath：config.properties”/&gt;  


    “bean name =”dataSource“class =”com.alibaba.druid.pool.DruidDataSource“init-method =”init“destroy-method =”close“&gt;  
        &lt;property name =“url”value =“$ {jdbc_url}”/&gt;  
        &lt;property name =“username”value =“$ {jdbc_username}”/&gt;  
        &lt;property name =“password”value =“$ {jdbc_password}”/&gt;  

        &lt;！ - 初始化连接大小 - &gt;  
        &lt;property name =“initialSize”value =“0”/&gt;  
        &lt;！ - 连接池最大使用连接数量 - &gt;  
        &lt;property name =“maxActive”value =“20”/&gt;  
        &lt;！ - 连接池最大空闲 - &gt;  
        &lt;property name =“maxIdle”value =“20”/&gt;  
        &lt;！ - 连接池最小空闲 - &gt;  
        &lt;property name =“minIdle”value =“0”/&gt;  
        &lt;！ - 获取连接最大等待时间 - &gt;  
        &lt;property name =“maxWait”value =“60000”/&gt;  

        &lt;！ -  &lt;property name =“poolPreparedStatements”value =“true”/&gt; &lt;property name =“maxPoolPreparedStatementPerConnectionSize”value =“33”/&gt;  - &gt;  

        &lt;property name =“validationQuery”value =“$ {validationQuery}”/&gt;  
        &lt;property name =“testOnBorrow”value =“false”/&gt;  
        &lt;property name =“testOnReturn”value =“false”/&gt;  
        &lt;property name =“testWhileIdle”value =“true”/&gt;  

        &lt;！ - 配置间隔多久才进行一次检测，检测需要关闭的空闲连接，单位是毫秒 - &gt;  
        &lt;property name =“timeBetweenEvictionRunsMillis”value =“60000”/&gt;  
        &lt;！ - 配置一个连接在池中最小生存的时间，单位是毫秒 - &gt;  
        &lt;property name =“minEvictableIdleTimeMillis”value =“25200000”/&gt;  

        &lt;！ - 打开removeAbandoned功能 - &gt;  
        &lt;property name =“removeAbandoned”value =“true”/&gt;  
        &lt;！ -  1800秒，也就是30分钟 - &gt;  
        &lt;property name =“removeAbandonedTimeout”value =“1800”/&gt;  
        &lt;！ - 关闭放弃连接时输出错误日志 - &gt;  
        &lt;property name =“logAbandoned”value =“true”/&gt;  

        &lt;！ - 监控数据库 - &gt;  
        &lt;！ -  &lt;property name =“filters”value =“stat”/&gt;  - &gt;  
        &lt;property name =“filters”value =“mergeStat”/&gt;  
    &lt;/ bean&gt;  



    &lt;！ - 配置hibernate会话工厂 - &gt;  
    &lt;bean id =“sessionFactory”class =“org.springframework.orm.hibernate4.LocalSessionFactoryBean”&gt;  
        &lt;property name =“dataSource”ref =“dataSource”/&gt;  
        &lt;property name =“hibernateProperties”&gt;  
            &lt;道具&gt;  
                &lt;prop key =“hibernate.hbm2ddl.auto”&gt; $ {hibernate.hbm2ddl.auto} &lt;/ prop&gt;  
                &lt;prop key =“hibernate.dialect”&gt; $ {hibernate.dialect} &lt;/ prop&gt;  
                &lt;prop key =“hibernate.show_sql”&gt; $ {hibernate.show_sql} &lt;/ prop&gt;  
                &lt;prop key =“hibernate.format_sql”&gt; $ {hibernate.format_sql} &lt;/ prop&gt;  
                 &lt;prop key =“current_session_context_class”&gt;线程&lt;/ prop&gt;    
                 &lt;prop key =“hibernate.connection.driver_class”&gt; $ {driverClassName} &lt;/ prop&gt; 
            &lt;/ props&gt;  
        &lt;/ property&gt;  

        &lt;！ - 自动扫描注解方式配置的hibernate类文件 - &gt;  
        &lt;property name =“packagesToScan”&gt;  
            &lt;list&gt;  
             &lt;！ - 此处与实体路径对应 - &gt;  
                &lt;value&gt; com.tianyan.domain.entity &lt;/ value&gt;  
            &lt;/ list&gt;  
        &lt;/ property&gt;  
    &lt;/ bean&gt;  



    &lt;！ - 配置事务管理器 - &gt;  
    &lt;bean name =“transactionManager”class =“org.springframework.orm.hibernate4.HibernateTransactionManager”&gt;  
        &lt;property name =“sessionFactory”ref =“sessionFactory”&gt; &lt;/ property&gt;  
    &lt;/ bean&gt;    


    &lt;！ - 注解方式配置事物 - &gt;  
    &lt;tx：annotation-driven transaction-manager =“transactionManager”/&gt;   


&lt;/ beans&gt;  </code></pre><p> 配置spring-mvc.xml </p>
<pre><code>&lt;？xml version =“1.0”encoding =“UTF-8”？&gt;
&lt;beans xmlns =“http://www.springframework.org/schema/beans”
    xmlns：context =“http://www.springframework.org/schema/context”xmlns：p =“http://www.springframework.org/schema/p”
    xmlns：mvc =“http://www.springframework.org/schema/mvc”xmlns：xsi =“http://www.w3.org/2001/XMLSchema-instance”
    xsi：schemaLocation =“http://www.springframework.org/schema/beans    
      http://www.springframework.org/schema/beans/spring-beans-3.0.xsd    
      http://www.springframework.org/schema/context    
      http://www.springframework.org/schema/context/spring-context-3.1.xsd    
      http://www.springframework.org/schema/mvc    
      http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd“&gt;



    &lt;！ - 支持注解 - &gt;
    &lt;mvc：annotation-driven /&gt;

    &lt;！ - 自动装配DefaultAnnotationHandlerMapping和AnnotationMethodHandlerAdapter  - &gt;
    &lt;mvc：default-servlet-handler /&gt;


    &lt;！ - 设置自动扫描的路径，用于自动注入bean这里的路径与自己的项目目录对应 - &gt;
    &lt;！ - 扫描控制器路由控制器 - &gt;
    &lt;context：component-scan base-package =“com.tianyan.web.controller”/&gt;
    &lt;context：component-scan
        base-package =“com.tianyan.domain.dao，com.tianyan.domain.service”/&gt;
    &lt;！ - 注册上传 - &gt;
    &lt;bean id =“multipartResolver”
        class =“org.springframework.web.multipart.commons.CommonsMultipartResolver”&gt;
        &lt;property name =“maxUploadSize”value =“10485760”/&gt;
        &lt;property name =“maxInMemorySize”value =“10240”/&gt;
    &lt;/ bean&gt;


    &lt;！ - 视图解析器 - &gt;
    &lt;bean id =“viewResolver”
        class =“org.springframework.web.servlet.view.InternalResourceViewResolver”&gt;
        &lt;property name =“viewClass”
            value =“org.springframework.web.servlet.view.JstlView”/&gt;
        &lt;property name =“suffix”value =“。jsp”/&gt; &lt;！ - 视图文件类型 - &gt;
        &lt;property name =“prefix”value =“/ WEB-INF / views”/&gt; &lt;！ - 视图文件的文件夹路径 - &gt;
    &lt;/ bean&gt;
&lt;/ beans&gt;
</code></pre><p> 配置web.xml </p>
<pre><code>&lt;？xml version =“1.0”encoding =“UTF-8”？&gt;
&lt;web-app version =“2.5” 
    xmlns =“http://java.sun.com/xml/ns/javaee” 
    xmlns：xsi =“http://www.w3.org/2001/XMLSchema-instance” 
    xsi：schemaLocation =“http://java.sun.com/xml/ns/javaee 
    http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd“&gt;
  &lt;display-name&gt; &lt;/ display-name&gt;    
  &lt;welcome-file-list&gt;
    &lt;welcome-file&gt; index.jsp &lt;/ welcome-file&gt;
  &lt;/ welcome-file-list&gt;

&lt;！ -  spring hibernate  - &gt;  
    &lt;context-param&gt;  
        &lt;param-name&gt; contextConfigLocation &lt;/ param-name&gt;  
        &lt;param-value&gt; classpath：spring-hibernate.xml &lt;/ param-value&gt;  
    &lt;/ context-param&gt;  
    &lt;！ -  openSessionInView配置 - &gt;  
    &lt;过滤器&gt;  
        &lt;filter-name&gt; openSessionInViewFilter &lt;/ filter-name&gt;  
        &lt;filter-class&gt; org.springframework.orm.hibernate4.support.OpenSessionInViewFilter &lt;/ filter-class&gt;  
        &lt;init-param&gt;  
            &lt;param-name&gt; singleSession &lt;/ param-name&gt;  
            &lt;param-value&gt; true &lt;/ param-value&gt;  
        &lt;/ init-param&gt;  
    &lt;/ filter&gt;  
    &lt;filter-mapping&gt;
    &lt;filter-name&gt; openSessionInViewFilter &lt;/ filter-name&gt;
    &lt;url-pattern&gt; / * &lt;/ url-pattern&gt;
    &lt;/ filter-mapping&gt;
    &lt;！ -  spring mvc配置 - &gt;  
    &lt;servlet&gt;  
        &lt;servlet-name&gt; springMVC &lt;/ servlet-name&gt;  
        &lt;servlet-class&gt; org.springframework.web.servlet.DispatcherServlet &lt;/ servlet-class&gt;  
        &lt;init-param&gt;  
            &lt;param-name&gt; contextConfigLocation &lt;/ param-name&gt;  
            &lt;param-value&gt; classpath：springMVC.xml &lt;/ param-value&gt;  
        &lt;/ init-param&gt;  
        &lt;load-on-startup&gt; 1 &lt;/ load-on-startup&gt;  
    &lt;/ servlet&gt;  

    &lt;servlet-mapping&gt;  
        &lt;servlet-name&gt; springMVC &lt;/ servlet-name&gt;  
        &lt;url-pattern&gt; / &lt;/ url-pattern&gt;  
    &lt;/ servlet-mapping&gt;  



    &lt;过滤器&gt;
        &lt;filter-name&gt; sessionFilter &lt;/ filter-name&gt;
        &lt;filter-class&gt; com.tianyan.web.core.SessionFilter &lt;/ filter-class&gt;
        &lt;init-param&gt;  
            &lt;param-name&gt; encoding &lt;/ param-name&gt;  
            &lt;param-value&gt; UTF-8 &lt;/ param-value&gt;  
        &lt;/ init-param&gt;  
        &lt;init-param&gt;  
            &lt;param-name&gt; forceEncoding &lt;/ param-name&gt;  
            &lt;param-value&gt; true &lt;/ param-value&gt; 
           &lt;/ init-param&gt; 
    &lt;/ filter&gt;
    &lt;filter-mapping&gt;
        &lt;filter-name&gt; sessionFilter &lt;/ filter-name&gt;
        &lt;url-pattern&gt; / * &lt;/ url-pattern&gt;
    &lt;/ filter-mapping&gt;
  &lt;servlet-mapping&gt;  
    &lt;servlet-name&gt; default &lt;/ servlet-name&gt;  
    &lt;url-pattern&gt; / js / * &lt;/ url-pattern&gt;  
    &lt;url-pattern&gt; / css / * &lt;/ url-pattern&gt;  
    &lt;url-pattern&gt; / images / * &lt;/ url-pattern&gt;  
    &lt;url-pattern&gt; / fonts / * &lt;/ url-pattern&gt;  
&lt;/ servlet-mapping&gt;  
    &lt;listener&gt;  
        &lt;listener-class&gt; org.springframework.web.context.ContextLoaderListener &lt;/ listener-class&gt;  
    &lt;/ listener&gt;  


&lt;/ web-app&gt;
</code></pre>
            
        </section>
        <footer class="blog-post-page-tags">
        
			
				
			<a href="/tags/CSDN迁移/" rel="tag" data-toggle="tooltip" data-placement="top" title="Linux">CSDN迁移</a>
				
			
		
        </footer>
    </article>
    <article class="blog-post-page-readmore">
    	
    	
		
			<a href="/2017/05/05/DB2使用命令行连接远程数据库/" class="blog-post-page-readmore-prev" data-toggle="tooltip" data-placement="top" title="DB2使用命令行连接远程数据库">上一篇</a>
		

		
		
			<a href="/2017/05/02/springmvc上传文件/" class="blog-post-page-readmore-next" data-toggle="tooltip" data-placement="top" title="springmvc上传文件">下一篇</a>
		

        <div style="clear: both;"></div>
    </article>

    <article class="blog-post-block blog-post-page-content">
            <div class="row">
            
                <div class="col-md-4 col-sm-4 post-page-more-btn">
                    <span class="post-comments-btn btn btn-info btn-block" data-toggle="tooltip" data-placement="top" title="本站采用Disqus评论组件，若您没有科学上网可能会无法查看并评论">加载评论</span>
                </div>
            
                <div class="col-md-4 col-sm-4 post-page-more-btn">
                    <span data-toggle="modal" data-target="#post-donate-content">
                        <span id="post-donate-btn" class="btn btn-danger btn-block" data-toggle="tooltip" data-placement="top" title="如果您觉得本文还不错或者对您有帮助，可以考虑打赏一下作者哦">打赏本文</span>
                    </span>
                </div>
                <div class="col-md-4 col-sm-4 post-page-more-btn">
                    <span data-toggle="modal" data-target="#post-qrcode-content">
                        <span><span id="post-qrcode-btn" class="btn btn-success btn-block" data-toggle="tooltip" data-placement="top" title="微信扫描二维码手机端查看本文及分享本文">二维码</span></span>
                    </span>
                </div>
            </div>
        <div class="post-more-function-br"></div>

        <div class="modal fade" id="post-donate-content" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">打赏本文</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="row post-donate-content">
                            <div class="col-md-4">
                                <p>支付宝</p>
                                <img class="post-donate-content-img no-lightbox" src="/img/alipay.JPG">
                            </div>
                            <div class="col-md-4">
                                <p>微信</p>
                                <img class="post-donate-content-img no-lightbox" src="/img/wechat.JPG">
                            </div>
                            <div class="col-md-4">
                                <p>财付通</p>
                                <img class="post-donate-content-img no-lightbox" src="/img/wechat.JPG">
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">关闭</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal fade" id="post-qrcode-content" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-sm" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">文章二维码</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="row post-qrcode-content">
                            <span class="post-qrcode-content-canvas"></span>
                            <img class="post-qrcode-content-img no-lightbox" src>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">关闭</button>
                    </div>
                </div>
            </div>
        </div>
        
        <script>
            // post QRcode
            // 中文转码
            function toUtf8(str) {
                var out, i, len, c;
                out = "";
                len = str.length;
                for (i = 0; i < len; i++) {
                    c = str.charCodeAt(i);
                    if ((c >= 0x0001) && (c <= 0x007F)) {
                        out += str.charAt(i);
                    } else if (c > 0x07FF) {
                        out += String.fromCharCode(0xE0 | ((c >> 12) & 0x0F));
                        out += String.fromCharCode(0x80 | ((c >> 6) & 0x3F));
                        out += String.fromCharCode(0x80 | ((c >> 0) & 0x3F));
                    } else {
                        out += String.fromCharCode(0xC0 | ((c >> 6) & 0x1F));
                        out += String.fromCharCode(0x80 | ((c >> 0) & 0x3F));
                    }
                }
                return out;
            }
            // 生成
            var qrcode= $('.post-qrcode-content-canvas').qrcode({width: 150,height: 150,text: toUtf8("http://lwydyby.cn/2017/05/03/使用maven进行springmvc+hibernate的配置文件/")}).hide();
            var canvas=qrcode.find('canvas').get(0);
            $('.post-qrcode-content-img').attr('src',canvas.toDataURL('image/jpg'));
        </script>

        
    </article>
    
      <article class="blog-post-block blog-post-page-content" style="margin-top:2.5em;">
      
      <div class="comment"></div>
      <script>
          new Valine({
              av: AV, // source from av-min.js
              el: '.comment' ,
              notify:false, // 邮件提醒 v1.1.4新增
              verify:false, // 验证码 v1.1.4新增
              app_id: 'iJmUXc8LaoLWImgBPMXEIduG-gzGzoHsz',
              app_key: 'LO8xrIFyiXfO58Irvj2UAW2l',
              placeholder: 'ヾﾉ≧∀≦)o来啊，快活啊!',
              path:window.location.pathname // 路径配置 v1.1.5新增，可填window.location.href
          });
      </script>
      </article>
      
</div>

                
            <footer class="blog-footer">
                <p class="blog-footer-left">Copyright ©  2019 <a href="http://lwydyby.cn">万万没想到</a></p>
                <p class="blog-footer-right">Powered by <a href="https://hexo.io" target="_blank">Hexo</a>,Theme <a href="https://note.isweic.com/themes-life/" target="_blank">Life</a></p>
            </footer>
        </div><!--博客主栏结束-->
        <!--博客侧边栏开始-->
        <div class="col-xl-3 blog-sidebar">
            <div class="blog-sidebar-title">
                <a href>万万没想到</a>
            </div>
            <div class="blog-sidebar-logo">
                <img src="https://avatar.gitee.com/uploads/38/1463938_lwydyby.png!avatar100?1517911156">
            </div>
            <div class="blog-sidebar-count blog-sidebar-padding">
                <div class="blog-sidebar-count-left">
                    <p class="blog-sidebar-count-p">63</p>
                    <span class="blog-sidebar-count-span">文章</span>
                </div>
                <div class="blog-sidebar-count-right">
                    <p class="blog-sidebar-count-p">3</p>
                    <span class="blog-sidebar-count-span">标签</span>
                </div>
                <div style="clear: both;"></div>
            </div>
            <div class="blog-sidebar-icon blog-sidebar-padding">
                <ul>
                    <li><a href="https://github.com/lwydyby" class="icon-github" target="_blank" data-toggle="tooltip" data-placement="top" title="Github"><i class="fa fa-github"></i></a></li>
                    <li><a href class="icon-weibo" target="_blank" data-toggle="tooltip" data-placement="top" title="新浪微博"><i class="fa fa-weibo"></i></a></li>
                    <li><a href class="icon-twitter" target="_blank" data-toggle="tooltip" data-placement="top" title="Twitter"><i class="fa fa-twitter"></i></a></li>
                    <!--<li><a href="" class="icon-facebook" target="_blank" data-toggle="tooltip" data-placement="top" title="FaceBook"><i class="fa fa-facebook"></i></a></li>-->
                    <li><a href="mailto:qzywyd@163.com" class="icon-email" data-toggle="tooltip" data-placement="top" title="E-Mail"><i class="fa fa-envelope"></i></a></li>
                    <li><a href class="icon-rss" data-toggle="tooltip" target="_blank" data-placement="top" title="RSS"><i class="fa fa-rss"></i></a></li>
                </ul>
            </div>
            <div class="blog-sidebar-categories">
                <h4 class="blog-sidebar-h4"><i class="fa fa-folder-open"></i>&nbsp;文章分类</h4>
                <ul class="list-group blog-sidebar-padding">
                  
                </ul>
            </div>
            <div class="blog-sidebar-tags">
                <h4 class="blog-sidebar-h4"><i class="fa fa-tag"></i>&nbsp;标签云</h4>
                <ul class="blog-sidebar-tags-ul blog-sidebar-padding">
                  
                    
                      <li><a href="/tags/CSDN迁移/" class="tag-could" data-toggle="tooltip" data-placement="top" title="CSDN迁移">CSDN迁移</a></li>
                    
                      <li><a href="/tags/DNS/" class="tag-could" data-toggle="tooltip" data-placement="top" title="DNS">DNS</a></li>
                    
                      <li><a href="/tags/CoreDns-GoLang/" class="tag-could" data-toggle="tooltip" data-placement="top" title="CoreDns GoLang">CoreDns GoLang</a></li>
                    
                  
                </ul>
            </div>
            <script>
              // 博客侧栏标签云随机色
              var tag_cloud = $('.tag-could');
              tag_cloud.each(function () {
                  var Cnum = 9;
                  var Crand = parseInt(Math.random() * Cnum);
                  $(this).addClass("tag-could" + Crand);
              })
            </script>
            <!--返回顶部按钮-->
            <div class="retop">
                <i class="fa fa-angle-up"></i>
            </div>
        </div><!--博客侧边栏结束-->
    </div>
</div>
<script src="/js/LeanStatistics.min.js"></script>
<script src="/js/Life.js"></script>
<script type="text/javascript">
    hljs.initHighlightingOnLoad();
    hljs.initLineNumbersOnLoad();
    otherF();
    LeanStatistics();
    $(document).pjax('a', '#pjax-box', {fragment:'#pjax-box', timeout:8000}).on('pjax:complete', function() {
      $('pre code').each(function(i, block){
        hljs.highlightBlock(block);
      })
      $('code.hljs').each(function(i, block) {
        hljs.lineNumbersBlock(block);
      });
      LeanStatistics();
    }).on('pjax:start', function() { NProgress.start(); }).on('pjax:end',   function() {
      NProgress.done();
      otherF();
    });
</script>
<script src="https://cdn.jsdelivr.net/npm/live2d-widget@^3.1.3/lib/L2Dwidget.min.js"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"scale":1,"hHeadPos":0.5,"vHeadPos":0.618,"jsonPath":"/live2dw/assets/hijiki.model.json"},"display":{"width":150,"height":300,"position":"right"},"mobile":{"show":false,"scale":0.05},"react":{"opacityDefault":1,"opacityOnHover":0.2},"log":false});</script></body>
</html>
